# 题目04：代码阅读 - 智能指针

## 题目类型
代码阅读题

## 知识点
Lesson 7: 智能指针 - unique_ptr、shared_ptr

## 题目描述

阅读以下代码，写出程序的输出结果。

```cpp
#include <iostream>
#include <memory>
using namespace std;

class Resource {
public:
    Resource(int id) : id_(id) {
        cout << "Resource " << id_ << " created" << endl;
    }
    ~Resource() {
        cout << "Resource " << id_ << " destroyed" << endl;
    }
private:
    int id_;
};

int main() {
    cout << "=== unique_ptr ===" << endl;
    {
        unique_ptr<Resource> p1 = make_unique<Resource>(1);
        cout << "p1 exists" << endl;
    }
    cout << "p1 out of scope" << endl;
    
    cout << "\n=== shared_ptr ===" << endl;
    {
        shared_ptr<Resource> p2 = make_shared<Resource>(2);
        cout << "p2 use_count: " << p2.use_count() << endl;
        {
            shared_ptr<Resource> p3 = p2;
            cout << "p3 created, p2 use_count: " << p2.use_count() << endl;
        }
        cout << "p3 out of scope, p2 use_count: " << p2.use_count() << endl;
    }
    cout << "p2 out of scope" << endl;
    
    return 0;
}
```

## 要求
请写出程序的完整输出结果（包括所有换行）。

---

## 提示
注意智能指针的生命周期和引用计数。

