# 题目09：代码改错 - 多态失效

## 题目类型
代码改错题

## 知识点
Lesson 6: 多态 - 虚函数

## 题目描述

以下代码想要实现多态，但多态没有生效。请找出并修正错误。

```cpp
#include <iostream>
using namespace std;

class Animal {
public:
    void speak() {  // 错误：缺少virtual关键字
        cout << "Animal speaks" << endl;
    }
};

class Dog : public Animal {
public:
    void speak() {
        cout << "Dog barks" << endl;
    }
};

class Cat : public Animal {
public:
    void speak() {
        cout << "Cat meows" << endl;
    }
};

int main() {
    Animal* animals[3];
    animals[0] = new Dog();
    animals[1] = new Cat();
    animals[2] = new Animal();
    
    for (int i = 0; i < 3; i++) {
        animals[i]->speak();
    }
    
    // 清理内存
    for (int i = 0; i < 3; i++) {
        delete animals[i];
    }
    
    return 0;
}
```

## 要求
1. 找出导致多态失效的错误
2. 修正错误，使程序能够正确实现多态
3. 说明修正后的输出结果

---

## 提示
- 多态需要虚函数（virtual关键字）
- 基类析构函数也应该声明为虚函数

